<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>å‘˜å·¥æ‰“å¡ç³»ç»Ÿ</title>
    <style>
        body { background-color: #121212; color: white; font-family: sans-serif; text-align: center; }
        .btn { padding: 12px 24px; font-size: 18px; margin: 8px; border: none; border-radius: 6px; cursor: pointer; }
        .btn-green { background-color: #28a745; color: white; }
        .btn-orange { background-color: #fd7e14; color: white; }
        .btn-red { background-color: #dc3545; color: white; }
        .btn-purple { background-color: #6f42c1; color: white; }
        .btn-blue { background-color: #007bff; color: white; }
    </style>
    <script>
        function send(type) {
            fetch('/api/attendance', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ type })
            })
            .then(res => res.json())
            .then(data => alert(data.message));
        }
        setInterval(() => {
            const now = new Date();
            document.getElementById('clock').textContent =
                now.getFullYear() + '/' + String(now.getMonth()+1).padStart(2, '0') + '/' + String(now.getDate()).padStart(2, '0') +
                ' ' + now.toLocaleTimeString();
        }, 1000);
    </script>
</head>
<body>
    <h1>å‘˜å·¥æ‰“å¡ç³»ç»Ÿ</h1>
    <div>æ¬¢è¿, {{ username }}</div>
    <a href="/logout" class="btn btn-blue">é€€å‡º</a>
    <h2 id="clock"></h2>
    <button class="btn btn-green" onclick="send('ä¸Šç­æ‰“å¡')">ğŸŸ¢ ä¸Šç­æ‰“å¡</button>
    <button class="btn btn-orange" onclick="send('åˆé¤å¼€å§‹')">ğŸŸ§ åˆé¤å¼€å§‹</button>
    <button class="btn btn-orange" onclick="send('åˆé¤ç»“æŸ')">ğŸŸ§ åˆé¤ç»“æŸ</button><br>
    <button class="btn btn-red" onclick="send('ä¸‹ç­æ‰“å¡')">ğŸ”´ ä¸‹ç­æ‰“å¡</button>
    <button class="btn btn-purple" onclick="send('åŠ ç­å¼€å§‹')">ğŸŸ£ åŠ ç­å¼€å§‹</button>
    <button class="btn btn-purple" onclick="send('åŠ ç­ç»“æŸ')">ğŸŸ£ åŠ ç­ç»“æŸ</button><br>
    <a href="/export" class="btn btn-blue">ğŸ“¥ å¯¼å‡ºè®°å½•</a>
</body>
</html>
