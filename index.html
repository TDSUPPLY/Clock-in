<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>æ‰“å¡ç³»ç»Ÿ</title>
    <style>
        body { background:#1d1f2f; color:#fff; font-family:sans-serif; text-align:center; padding:30px; }
        button { font-size:18px; margin:10px; padding:10px 20px; border:none; border-radius:8px; cursor:pointer; }
        .green { background:#2ecc71; color:white; }
        .orange { background:#f39c12; color:white; }
        .red { background:#e74c3c; color:white; }
        .purple { background:#8e44ad; color:white; }
    </style>
</head>
<body>
    <h1>å‘˜å·¥æ‰“å¡ç³»ç»Ÿ</h1>
    <p>æ¬¢è¿, {{ username }}</p>
    <form action="/logout"><button class="red">é€€å‡º</button></form>
    <h2 id="clock"></h2>
    <button class="green" onclick="clock('ä¸Šç­æ‰“å¡')">ğŸŸ¢ ä¸Šç­æ‰“å¡</button>
    <button class="orange" onclick="clock('åˆé¤å¼€å§‹')">ğŸŸ§ åˆé¤å¼€å§‹</button><br>
    <button class="orange" onclick="clock('åˆé¤ç»“æŸ')">ğŸŸ§ åˆé¤ç»“æŸ</button>
    <button class="red" onclick="clock('ä¸‹ç­æ‰“å¡')">ğŸ”´ ä¸‹ç­æ‰“å¡</button><br>
    <button class="purple" onclick="clock('åŠ ç­å¼€å§‹')">ğŸŸ£ åŠ ç­å¼€å§‹</button>
    <button class="purple" onclick="clock('åŠ ç­ç»“æŸ')">ğŸŸ£ åŠ ç­ç»“æŸ</button><br><br>
    <a href="/download" style="color:lightblue;">å¯¼å‡ºè®°å½•</a>
    <script>
        function clock(type){
            fetch('/api/attendance', {
                method:'POST', headers:{'Content-Type':'application/json'},
                body: JSON.stringify({type:type})
            }).then(res => res.json()).then(data => alert(data.message));
        }
        function updateClock(){
            const now = new Date();
            document.getElementById("clock").innerText =
                now.getHours().toString().padStart(2,'0') + ':' +
                now.getMinutes().toString().padStart(2,'0') + ':' +
                now.getSeconds().toString().padStart(2,'0');
        }
        setInterval(updateClock, 1000);
        updateClock();
    </script>
</body>
</html>